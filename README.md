hoge
second time hoge




# JavaScriptの関数を極める

## クロージャが活用されるケース
「状態」保持させるケースは３パターン考えられます

1. オブジェクトにプロパティを持たせる
1. グローバル変数を保持する
1. クロージャを活用して関数に「状態」を保持させる

しかし、グローバル変数を持たせるパターンはJS界ではアンチパターンです。
オブジェクトのプロパティに持たせるのも外部からの値の書き換えができてしまいます。
ES2021ではプロパティをプライベートにする構文は用意されていません。

## クロージャ活用の具体例
下記の例では
- CreateCounterという関数をていぎするかわりに即時関数を使用。
- NewCounter←即時関数←cnt←内部関数←cnt）と内部関数のスコープチェーンにcntが含まれているので、NewCounterが破棄されるまではcntは保持されるのです。

```js
// クロージャを活用するパターン
const NewCounter = (function(){
    let cnt = 0;
    return function () {
        // 内部関数
        cnt += 1;
        console.log(cnt);
    };
})();
```

## 即時関数
JSの即時関数（）で囲って実行する関数はすべて即時関数です
```javascript
(function() {
     // 特徴
     //名前が不要です。
     // グローバルスコープを汚染しません。
 })();
```
